<!-- doc 치고 tap 누르면 기본 설정 코드 나옴 -->
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>끝말잇기</title>
    <style></style>
</head>
<body>
    <!-- 코드 칠 때 < 부터 치지 말기. 예를 들어 그냥 style 먼저 치고 enter나 tap 누르면 저절로 <> 완성해줌 -->
    <!-- shift + alt + 키보드 방향 아래키 -> 한 줄 다음 줄에 복사됨 -->
    <!-- ctrl z 하면 실행 취소  -->
    <!-- 띄어쓰기는 tap, 들여쓰기는 shit + tap 같이 -->
    <!-- cf) 브라우저에서 확대, 축소는 ctrl + 마우스 wheel -->
    <!-- 파일 우클릭하고 live server로 열거나, f5 누르고 chrome 누르거나 -->
    <div><span id="order">1</span>번째 참가자</div> 
    <!-- 첫 번째 참가자인지 확인하기 위해서, 제시어가 비어있는지 알기 위해 id="word" 만들어줌 -->
    <div>제시어 : <span id="word"></span></div>
    <input type="text">
    <button>입력</button>
    <button class="hello">입력</button>
    <button class="hello">입력</button>
    <script>
        const number = parseInt(prompt('몇 명이 참여하나요?'), 10);
        const $button = document.querySelector('button');
        const $input = document.querySelector('input');
        let word; // 제시어
        let newWorld; // 새로 입력한 단어 
        const $word = document.querySelector('#word');
        const $order = document.querySelector('#order')

        /* console.log('참여 인원', number)
        alert(number)
        confirm('맞나요?') */

        /* document.querySelector('input').addEventListener('input', function(){
            console.log('이벤트 리스터 확인');
        })
        document.querySelector('button').addEventListener('click', function(){
            console.log('버튼 이벤트 확인');
        }) */
        
        const onClickButton = () => {
            // 제시어 비어있거나 || 입력한 단어가 올바르면 (둘 중 하나만 만족해도 아래 코드 실행)
            if (!word || word[word.length - 1] === newWorld[0]){ // 비어있으면
                word = newWorld; // 입력해준게 제시어가 되고
                $word.textContent = word; // 제시어 부분을 바꿔서 화면 표시해주기
                const order = parseInt($order.textContent)
                if(order + 1 > number){
                    $order.textContent = 1; 
                }else{
                    $order.textContent = order + 1; 
                }
            } else { // 올바르지 않으면
                alert('올바르지 않은 단어입니다.')
            }
            $input.value=' ';
            $input.focus();
        }

        const onInput = (event) => {
            //console.log('글자 입력', event.target.value)
            newWorld = event.target.value // 새로 입력할 때마다 newworld 업데이트
        }


        $button.addEventListener('click', onClickButton);
        $input.addEventListener('input', onInput)



    </script>
</body>
</html>